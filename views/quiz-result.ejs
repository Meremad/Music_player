<!-- views/quiz-result.ejs -->
<h1><%= __('Quiz Result') %></h1>
<p><%= __('Your score') %>: <%= result.score %>/<%= result.totalQuestions %></p>
<div>
  <h2><%= __('Share your result') %></h2>
  <button onclick="shareResult()"><%= __('Share on Facebook') %></button>
  <button onclick="tweetResult()"><%= __('Share on Twitter') %></button>
</div>

<script>
  function shareResult() {
    const text = 'I scored <%= result.score %>/<%= result.totalQuestions %> on this quiz!';
    const url = window.location.href;
    const fbShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`;
    window.open(fbShareUrl, '_blank');
  }

  function tweetResult() {
    const text = 'I scored <%= result.score %>/<%= result.totalQuestions %> on this quiz!';
    const url = window.location.href;
    const twitterShareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
    window.open(twitterShareUrl, '_blank');
  }
</script>